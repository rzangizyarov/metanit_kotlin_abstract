# 2.5 Операции с числами

## Арифметические операции

Kotlin поддерживает базовые арифметические операции:

- `+` (сложение): возвращает сумму двух чисел.
    ```kotlin
    val x = 10
    val y = 5
    val result = x + y
    ```
- `-` (вычитание): возвращает разность двух чисел.
    ```kotlin
    val x = 10
    val y = 5
    val result = x - y
    ```
- `*` (умножение): возвращает произведение двух чисел.
    ```kotlin
    val x = 10
    val y = 5
    val result = x * y
    ```
- `/` (деление): возвращает частное двух чисел
    ```kotlin
    val x = 10
    val y = 5
    val result = x / y
    ```
    
    При этом если в операции деления оба операнда представляют целые числа, то результатом тоже будет целое число (дробная часть отбрасывается).
    Чтобы результатом было дробное число, один из операндов должен представлять число с плавающей точкой:  
    
    ```kotlin
    val x = 11
    val y = 5
    val a = 5.0
    val result1 = x / y  // 2
    val result2 = x / a  // 2.2
    ```

- `%`: возвращает остаток от целочисленного деления двух чисел.
    ```kotlin
    val x = 65
    val y = 10
    val result = x % y   // z = 5
    ```
- `++` (инкремент): увеличивает значение на единицу. При этом префиксный инкремент возвращает увеличенное значение:
    ```kotlin
    var x = 5
    val y = ++x
    println(x)      // x = 6
    println(y)      // y = 6
    ```
    
    Постфиксный инкремент возвращает значение до увеличения на единицу:
    ```kotlin
    var x = 5
    val y = x++
    println(x)      // x = 6
    println(y)      // y = 5
    ```
    
- `--` (декремент): уменьшает значение на единицу. Префиксный декремент возвращает уменьшенное значение. Постфиксный декремент возвращает значение до уменьшения на единицу.

Также есть ряд операций присвоения, которые сочетают арифметические
операции и присвоение:

- `+=`: присваивание после сложения. Присваивает левому операнду сумму левого и правого операндов: `A += B` эквивалентно `A = A + B`;
- `-=`: присваивание после вычитания. Присваивает левому операнду разность левого и правого операндов: `A -= B` эквивалентно `A = A - B`;
- `*=`: присваивание после умножения. Присваивает левому операнду произведение левого и правого операндов: `A *= B` эквивалентно `A = A * B`;
- `/=`: присваивание после деления. Присваивает левому операнду частное левого и правого операндов: `A /= B` эквивалентно `A = A / B`;
- `%=`: присваивание после деления по модулю. Присваивает левому операнду остаток от целочисленного деления левого операнда на правый: `A %= B` эквивалентно `A = A % B`.

## Поразрядные операции

Ряд операций выполняется над двоичными разрядами числа. Здесь важно понимать, как выглядит двоичное представление тех или иных чисел. В частности, число 4 в двоичном виде - 100, а число 15 - 1111.  
Есть следующие поразрядные операторы (они применяются только к данным
типов `Int` и `Long`):

- `shl`: сдвиг битов числа со знаком влево
    ```kotlin
    val z = 3 shl 2      // z = 11 << 2 = 1100 
    println(z)           // z = 12
    val d = 0b11 shl 2
    println(d)           // d = 12
    ```
    
    В данном случае число сдвигается на два разряда влево, поэтому справа число в двоичном виде дополняется двумя нулями. То есть в двоичном виде 3 представляет 11. Сдвигаем на два разряда влево (дополняем справа двумя нулями) и получаем 1100, то есть в десятичной системе число 12.
    
-   `shr`: сдвиг битов числа со знаком вправо
    ```kotlin
    val z = 12 shr 2     // z = 1100 >> 2 = 11
    println(z)           // z = 3
    val d = 0b1100 shr 2
    println(d)           // d = 3
    ```
    
-   `ushr`: сдвиг битов беззнакового числа вправо
    ```kotlin
    val z = 12 ushr 2    // z = 1100 >> 2 = 11
    println(z)           // z = 3
    ```
    
-   `and`: побитовая операция AND (логическое
    умножение или конъюнкция). Эта операция сравнивает соответствующие
    разряды двух чисел и возвращает единицу, если эти разряды обоих
    чисел равны 1. Иначе возвращает 0.

    ```kotlin
    val x = 5   // 101
    val y = 6   // 110
    val z = x and y     // z = 101 & 110 = 100
    println(z)          // z = 4

    val d = 0b101 and 0b110
    println(d)          // d = 4
    ```
    
-   `or`: побитовая операция OR (логическое сложение или дизъюнкция). Сравнивает сответствующие разряды двух чисел. Возвращает 1, если хотя бы один разряд равен 1. Если оба разряда равны 0, то возвращается 0.

    ```kotlin
    val x = 5   // 101
    val y = 6   // 110
    val z = x or y      // z = 101 | 110 = 111
    println(z)          // z = 7

    val d = 0b101 or 0b110
    println(d)          // d = 7
    ```

-   `xor`: побитовая операция XOR. Сравнивает соответствующие разряды двух чисел. Возвращает 1, если один из разрядов равен 1, а другой равен 0. Если оба разряда равны, то возвращается 0.

    ```kotlin
    val x = 5           // 101
    val y = 6           // 110
    val z = x xor y     // z = 101 ^ 110 = 011
    println(z)          // z = 3

    val d = 0b101 xor 0b110
    println(d)          // d = 3
    ```

-   `inv`: логическое отрицание или инверсия - инвертирует биты числа

    ```kotlin
    val b = 11  // 1011
    val c = b.inv()
    println(c)      // -12
    ```
