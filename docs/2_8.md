# 2.8 Циклы `for`, `while` и `do-while`

Циклы представляют вид управляющих конструкций, которые позволяют в зависимости от определенных условий выполнять некоторое действие множество раз.

В Kotlin поддерживаются три стандартные циклические конструкции: `while`, `do-while` и `for`.

## For

Цикл `for` пробегается по всем элементам коллекции. В этом плане цикл `for` в Kotlin эквивалентен циклу `for-each` в ряде других языков
программирования. Его формальная форма выглядит следующим образом:

```kotlin
for(переменная in последовательность){
    выполняемые инструкции
}
```

Например, выведем все квадраты чисел от 1 до 9, используя цикл for (в Котлине нет оператора для возведения в степень (взятия корня), но есть функция `pow(a, b)`, работающая только для чисел с плавающей точкой):

```kotlin
for (n in 1..9) {
    print("${n * n} \t")
}

```

```commandline
1 	4 	9 	16 	25 	36 	49 	64 	81 	
```

В данном случае перебирается последовательность чисел от 1 до 9. При каждом проходе цикла (итерации цикла) из этой последовательности будет извлекаться элемент и помещаться в переменную `n`. И через переменную n можно манипулировать значением элемента. То есть в данном случае мы получим следующий консольный вывод:


Циклы могут быть вложенными. Например, выведем таблицу умножения:


```kotlin
for (i in 1..9) {
    for (j in 1..9) {
        print("${i*j}\t")
    }
    println()
}
```

```commandline
1	2	3	4	5	6	7	8	9	
2	4	6	8	10	12	14	16	18	
3	6	9	12	15	18	21	24	27	
4	8	12	16	20	24	28	32	36	
5	10	15	20	25	30	35	40	45	
6	12	18	24	30	36	42	48	54	
7	14	21	28	35	42	49	56	63	
8	16	24	32	40	48	56	64	72	
9	18	27	36	45	54	63	72	81	

```

## Цикл while

Цикл `while` повторяет определенные действия пока истинно некоторое условие:

```kotlin
var i = 10
while (i > 0) {
    println(i*i)
    i--
}
```

```commandline
100
81
64
49
36
25
16
9
4
1

```

Здесь пока переменная i больше 0, будет выполняться цикл, в котором на консоль будет выводиться квадрат значения i.

В данном случае вначале проверяется условие `(i > 0)` и если оно истинно (то есть возвращает `true`), то выполняется цикл. И вполне может быть ситуация, когда к началу выполнения цикла условие не будет выполняться. Например, переменная i изначально меньше 0, тогда цикл вообще не будет выполняться.

Но есть и другая форма цикла `while` -`do..while`:

```kotlin
var i = -1

do {
    println(i*i)
    i--;
} while(i > 0)
```

```commandline
1

```

В данном случае вначале выполняется блок кода после ключевого слова `do`, а потом оценивается условие после `while`. Если условие истинно, то повторяется выполнение блока после `do`. То есть несмотря на то, что в данном случае переменная `i` меньше 0 и она не соответствует условию, тем не менее блок do выполнится хотя бы один раз.

## Операторы `continue` и `break`

Иногда при использовании цикла возникает необходимость при некоторых условиях не дожидаться выполнения всех инструкций в цикле, перейти к
новой итерации текущего цикла `for`. Для этого можно использовать оператор `continue`:

```kotlin
for (n in 1..8) {
    if (n == 5) continue;
    println(n * n)
}
```

```commandline
1
4
9
16
36
49
64

```

В данном случае когда `n` будет равно 5, сработает оператор `continue`. И последующая инструкция, которая выводит на консоль квадрат числа, не будет выполняться. Цикл перейдет к обработке следующего элемента в массиве

Бывает, что при некоторых условиях нам вовсе надо выйти из цикла, прекратить его выполнение. В этом случае применяется оператор `break`:

```kotlin
for(n in 1..5){
    if(n == 5) break;
    println(n * n)
}
```

```commandline
1
4
9
16

```

В данном случае когда `n` окажется равен 5, то с помощью оператора `break` будет выполнен выход из цикла. Цикл полностью завершится.


## Резюме 

```kotlin
fun main() {
    // Цикл for
    for (i in 1..9) {
        for (j in 1..9) {
            print("${i * j}\t")
        }
        println()
    }

    val array = arrayOf(1, 2, 3)

    for (i in array) {  // Создаётся переменная (ссылка) val i.
//        i = 0         // При попытке переопределить элемент в массиве
        println(i)      // на самом деле мы будем пытаться изменить ссылку
    }                   // локальной val  переменной.

    // Цикл while
    var c = 0
    while (c < 10) {
        println(c)
        c++
    }

    // Цикл do-while
    // Блок do выполнится хотя бы один раз
    var d = 0
    do {
        println(d)
        d++
    } while (d < 10)

    // Операторы continue и break
    // continue применяется при необходимости перейти к новой итерации
    // не дожидаясь выполнения всех инструкций
    for (i in 1..10) {
        if (i == 5) continue
        println(i)
    }

    // break применяется при необходимости выйти из цикла
    for (i in 1..10) {
        if (i == 5) break
        println(i)
    }
}
```

